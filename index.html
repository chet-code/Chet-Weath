<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maharashtra Weather App</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f8faf8;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      color: #2d3748;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }
    h1, h2, h3 {
      color: #2f855a;
    }
    select {
      width: 100%;
      padding: 12px;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      font-size: 16px;
      margin: 10px 0;
      background: white;
      color: #4a5568;
    }
    .weather-header {
      text-align: center;
      margin-bottom: 20px;
    }
    .current-weather {
      background: #f0fff4;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 25px;
    }
    .temp-display {
      font-size: 3.5rem;
      font-weight: 300;
      color: #2f855a;
      margin: 10px 0;
    }
    .weather-desc {
      font-size: 1.2rem;
      color: #4a5568;
      margin-bottom: 15px;
    }
    .detail-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-top: 20px;
    }
    .detail-card {
      background: white;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .forecast-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 12px;
      margin-top: 25px;
    }
    .forecast-day {
      background: white;
      padding: 12px;
      border-radius: 8px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .hourly-forecast {
      display: flex;
      overflow-x: auto;
      gap: 10px;
      padding: 15px 0;
      margin-top: 20px;
    }
    .hour-card {
      min-width: 70px;
      background: white;
      padding: 12px;
      border-radius: 8px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .hour-time {
      font-weight: 600;
      color: #2f855a;
      margin-bottom: 5px;
    }
    .hour-temp {
      font-size: 1.1rem;
      color: #4a5568;
    }
    .day-name {
      font-weight: 600;
      color: #2f855a;
      margin-bottom: 8px;
    }
    .forecast-temp {
      font-size: 1.1rem;
      color: #4a5568;
    }
    .last-updated {
      text-align: center;
      margin-top: 25px;
      color: #718096;
      font-size: 0.9rem;
    }
    .loading {
      text-align: center;
      padding: 40px;
      color: #718096;
    }
    .location-selectors {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 20px;
    }
    .tab-container {
      display: flex;
      margin-top: 20px;
      border-bottom: 1px solid #e2e8f0;
    }
    .tab {
      padding: 10px 20px;
      cursor: pointer;
      border-bottom: 2px solid transparent;
    }
    .tab.active {
      border-bottom: 2px solid #2f855a;
      color: #2f855a;
      font-weight: 600;
    }
    @media (max-width: 600px) {
      .location-selectors {
        grid-template-columns: 1fr;
      }
      .detail-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    function WeatherApp() {
      const [weather, setWeather] = useState(null);
      const [forecast, setForecast] = useState(null);
      const [hourlyData, setHourlyData] = useState(null);
      const [loading, setLoading] = useState(true);
      const [selectedDistrict, setSelectedDistrict] = useState("Buldhana");
      const [selectedTown, setSelectedTown] = useState("Buldhana");
      const [lastUpdated, setLastUpdated] = useState("");
      const [activeTab, setActiveTab] = useState("daily");

      // Comprehensive list of Maharashtra districts and towns
      const maharashtraTowns = {
        // Vidarbha Region
        "Buldhana": ["Buldhana", "Chikhli", "Malkapur", "Mehkar", "Khamgaon", "Shegaon", "Lonar"],
        "Amravati": ["Amravati", "Achalpur", "Daryapur", "Anjangaon", "Chandurbazar"],
        "Akola": ["Akola", "Akot", "Patur", "Balapur", "Telhara"],
        "Washim": ["Washim", "Mangrulpir", "Karanja", "Risod"],
        "Yavatmal": ["Yavatmal", "Pusad", "Umarkhed", "Digras", "Ghatanji"],
        "Nagpur": ["Nagpur", "Katol", "Ramtek", "Umred", "Kalmeshwar"],
        "Wardha": ["Wardha", "Arvi", "Hinganghat", "Pulgaon"],
        "Chandrapur": ["Chandrapur", "Ballarpur", "Warora", "Bramhapuri"],
        "Gadchiroli": ["Gadchiroli", "Aheri", "Sironcha", "Chamorshi"],
        "Bhandara": ["Bhandara", "Tumsar", "Pauni", "Sakoli"],
        "Gondia": ["Gondia", "Tirora", "Deori", "Amgaon"],
        
        // Marathwada Region
        "Aurangabad": ["Aurangabad", "Khultabad", "Gangapur", "Sillod"],
        "Jalna": ["Jalna", "Ambad", "Bhokardan", "Partur"],
        "Parbhani": ["Parbhani", "Gangakhed", "Pathri", "Jintur"],
        "Hingoli": ["Hingoli", "Kalamnuri", "Basmath", "Sengaon"],
        "Nanded": ["Nanded", "Deglur", "Mukhed", "Kandhar"],
        "Latur": ["Latur", "Ahmadpur", "Udgir", "Nilanga"],
        "Osmanabad": ["Osmanabad", "Tuljapur", "Umarga", "Paranda"],
        "Beed": ["Beed", "Georai", "Majalgaon", "Ashti", "Ambejogai"],
        
        // Khandesh Region
        "Jalgaon": ["Jalgaon", "Bhusawal", "Chalisgaon", "Pachora", "Erandol"],
        "Dhule": ["Dhule", "Shirpur", "Sakri", "Nardana"],
        "Nandurbar": ["Nandurbar", "Shahada", "Taloda", "Navapur"],
        
        // Western Maharashtra
        "Pune": ["Pune", "Baramati", "Bhor", "Daund", "Indapur", "Junnar"],
        "Nashik": ["Nashik", "Malegaon", "Sinnar", "Igatpuri", "Niphad"],
        "Ahmednagar": ["Ahmednagar", "Shrirampur", "Kopargaon", "Sangamner", "Shirdi"],
        "Satara": ["Satara", "Wai", "Karad", "Patan", "Phaltan"],
        "Sangli": ["Sangli", "Miraj", "Tasgaon", "Kavathemahankal"],
        "Kolhapur": ["Kolhapur", "Ichalkaranji", "Shirol", "Gaganbawda"],
        "Solapur": ["Solapur", "Barshi", "Pandharpur", "Malshiras", "Mohol"],
        "Ratnagiri": ["Ratnagiri", "Chiplun", "Khed", "Dapoli", "Guhagar"],
        "Sindhudurg": ["Sindhudurg", "Kankavli", "Malvan", "Vengurla", "Sawantwadi"],
        "Raigad": ["Raigad", "Alibag", "Pen", "Mahad", "Mangaon"],
        "Thane": ["Thane", "Kalyan", "Bhiwandi", "Murbad", "Shahapur"],
        "Palghar": ["Palghar", "Vasai", "Dahanu", "Talasari", "Vikramgad"],
        
        // Special towns
        "Mumbai": ["Mumbai", "Navi Mumbai"],
        "Mumbai Suburban": ["Andheri", "Bandra", "Borivali", "Dahisar", "Kandivali"]
      };

      const getWeatherIcon = (code) => {
        const icons = {
          0: "☀️", 1: "🌤️", 2: "⛅", 3: "☁️",
          45: "🌫️", 48: "🌫️", 51: "🌦️", 53: "🌧️",
          55: "🌧️", 56: "🌧️❄️", 57: "🌧️❄️", 61: "🌧️",
          63: "🌧️", 65: "🌧️", 66: "🌧️❄️", 67: "🌧️❄️",
          80: "🌦️", 81: "🌧️", 82: "🌧️", 95: "⛈️",
          96: "⛈️", 99: "⛈️"
        };
        return icons[code] || "🌈";
      };

      const getDayName = (dateStr) => {
        const date = new Date(dateStr);
        return date.toLocale
